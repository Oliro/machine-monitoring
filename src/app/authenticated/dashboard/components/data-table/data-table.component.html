<div class="container-table">
  <table>
    <thead>
      <tr>
        <th>Nome</th>
        <th>Modelo</th>
        <th>Estado</th>
        <th>Último Sinal</th>
        <th>Produtividade</th>
        <th>Ganho</th>
        <th>Descrição</th>
      </tr>
    </thead>
    <tbody>
      @for (item of facade.equipments$ | async; track $index) {
      <tr>

        <td>{{item.name}}</td>
        <td>{{item.equipmentsModels.name}}</td>
        <td>
          <span class="badge" [ngStyle]="{'background-color': facade.getLatestState(item.equipmentsStatesHistory.states).state?.color}">
          {{ facade.getLatestState(item.equipmentsStatesHistory.states).state?.name }}
        </span>
        </td>
        <td>{{ facade.getLatestState(item.equipmentsStatesHistory.states).lastDate | date : 'dd/MM/yyyy HH:mm' }}</td>
        <td>
          <span class="badge-performance">
            {{facade.calculateProductivity(item.equipmentsStatesHistory).operando / 24 | percent }}
          </span>
        </td>
        <td>{{facade.calculateGainEquipment(item)}}</td>
        <td></td>

      </tr>
      }
      @empty {
        <tr>
          <td colspan="6">Nenhum resultado encontrado.</td>
        </tr>
         }
    </tbody>
  </table>
</div>